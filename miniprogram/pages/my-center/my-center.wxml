<view class="page">
  <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>

  <view class="profile-card">
    <view class="avatar-wrap">
      <image wx:if="{{profile && profile.avatarUrl}}" class="avatar-img" src="{{profile.avatarUrl}}" mode="aspectFill" />
      <view wx:else class="avatar-placeholder">{{(profile && profile.steamNick) ? profile.steamNick[0] : 'U'}}</view>
    </view>
    <view class="profile-name">{{(profile && profile.steamNick) || (myMember && myMember.steamNick) || 'æœªè®¾ç½®æ˜µç§°'}}</view>
    <view class="profile-id">64ä½ï¼š{{(profile && profile.steam64Id) || (myMember && myMember.steam64Id) || '-'}}</view>
  </view>

  <view class="action-list">
    <button class="btn secondary" bindtap="goEditProfile">ç¼–è¾‘ä¸ªäººä¿¡æ¯</button>
    <button class="btn secondary" bindtap="goReview">å®¡æ ¸ç”³è¯·</button>
    <button class="btn secondary" bindtap="manageTeam">æˆ˜é˜Ÿç®¡ç†</button>
  </view>
</view>

<view class="bottom-nav">
  <button class="nav-item" bindtap="goHome">
    <text class="nav-emoji">ğŸ </text>
    <text class="nav-label">æˆ˜é˜Ÿä¸»é¡µ</text>
  </button>
  <button class="nav-item" bindtap="goMembers">
    <text class="nav-emoji">ğŸ‘¥</text>
    <text class="nav-label">æˆå‘˜åˆ—è¡¨</text>
  </button>
  <button class="nav-item" bindtap="goActivityList">
    <text class="nav-emoji">ğŸ“…</text>
    <text class="nav-label">æˆ˜é˜Ÿæ´»åŠ¨</text>
  </button>
  <button wx:if="{{isAdmin}}" class="nav-item" bindtap="goServerPanel">
    <text class="nav-emoji">ğŸ› ï¸</text>
    <text class="nav-label">æœåŠ¡å™¨ç®¡ç†</text>
  </button>
  <button class="nav-item nav-item-active" bindtap="goMy">
    <text class="nav-emoji">ğŸ‘¤</text>
    <text class="nav-label">æˆ‘çš„</text>
  </button>
</view>
