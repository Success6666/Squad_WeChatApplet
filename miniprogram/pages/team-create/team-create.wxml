<view class="page">
  <view class="form-group">
    <!-- force header centered and visible bottom separator -->
    <view class="form-cell stacked header-with-line" style="border-bottom: 1px solid rgba(0,0,0,0.12); padding-bottom: 12rpx;">
      <view class="cell-title-large" style="text-align: center; width: 100%;">基本信息</view>
    </view>

    <!-- name on one row: label + input -->
    <view class="form-cell row single-line">
      <view style="width: 180rpx; display:flex; align-items:center;">
        <view class="cell-label">战队名称</view>
      </view>
      <view style="flex:1;">
        <input class="cell-input" placeholder="请输入战队昵称" placeholder-class="ph" value="{{name}}" bindinput="onName" />
      </view>
    </view>

    <view class="form-cell stacked">
      <view class="cell-label">战队简介</view>
      <textarea class="cell-textarea visible-multi" placeholder="一句话介绍战队" placeholder-class="ph" value="{{desc}}" bindinput="onDesc" auto-height="false"></textarea>
    </view>

    <view class="form-cell">
      <view class="cell-label">战队LOGO</view>
      <view class="row" style="gap: 24rpx;">
        <image class="logo" mode="aspectFill" src="{{logoPreview}}" wx:if="{{logoPreview}}" style="width: 100rpx; height: 100rpx; border-radius: 16rpx; background: #F2F2F7;" />
        <button class="btn btn-ghost" size="mini" bindtap="chooseLogo">上传</button>
      </view>
    </view>

    <view class="form-cell">
      <view class="cell-label">公开战队</view>
      <switch checked="{{isPublic}}" bindchange="onPublicChange" color="#007AFF" />
    </view>
  </view>

  <view style="margin-top: 22rpx;">
    <button class="btn btn-primary full-row" loading="{{submitting}}" bindtap="submit">
      <text class="text-white">{{isEdit ? '保存修改' : '创建并成为队长'}}</text>
    </button>
  </view>
</view>
