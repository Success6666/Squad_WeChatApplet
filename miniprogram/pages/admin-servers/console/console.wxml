<view class="page">
  <view class="header">
    <view class="title">ğŸš€ {{status.serverName || server.name || 'æœåŠ¡å™¨æ§åˆ¶å°'}}</view>
  </view>

  <!-- åŠ ç²—ç°è‰²åˆ†éš”çº¿ï¼šæœåŠ¡å™¨åç§°ä¸ä¿¡æ¯åŒº -->
  <view class="title-divider"></view>

  <view class="card stats">
    <view class="row">
      <view class="stat cell">
        <text class="emoji">ğŸ‘¥</text>
        <view class="meta">
          <text class="label">åœ¨çº¿ç©å®¶</text>
          <text class="value">{{status.playersDisplay}}</text>
        </view>
      </view>
      <view class="stat cell">
        <text class="emoji">ğŸ—ºï¸</text>
        <view class="meta">
          <text class="label">åœ°å›¾</text>
          <text class="value">{{status.map}}</text>
        </view>
      </view>
    </view>

    <view class="row">
      <view class="stat cell">
        <text class="emoji flag-red">ğŸš©</text>
        <view class="meta">
          <text class="label">é˜µè¥1</text>
          <text class="value">{{status.team1}}</text>
        </view>
      </view>
      <view class="stat cell">
        <text class="emoji flag-black">ğŸ´</text>
        <view class="meta">
          <text class="label">é˜µè¥2</text>
          <text class="value">{{status.team2}}</text>
        </view>
      </view>
    </view>

    <view class="row">
      <view class="stat cell">
        <text class="emoji">â±ï¸</text>
        <view class="meta">
          <text class="label">å¯¹å±€æ—¶é—´</text>
          <text class="value">{{status.duration}}</text>
        </view>
      </view>
      <view class="stat cell">
        <text class="emoji">ğŸ“¶</text>
        <view class="meta">
          <text class="label">å»¶è¿Ÿ</text>
          <text class="value">{{status.latency}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å¹¿æ’­è¾“å…¥æ¡†å’Œæ“ä½œæŒ‰é’® -->
  <view class="actions-bar">
    <view class="actions-row">
      <input type="text" class="broadcast-input" placeholder="è¯·è¾“å…¥æœåŠ¡å™¨å¹¿æ’­å†…å®¹" value="{{broadcastText}}" bindinput="onBroadcastInput" maxlength="200" />
      <button class="btn primary btn-send" bindtap="sendBroadcast">å‘é€å¹¿æ’­</button>
    </view>

    <!-- æ–°å¢ï¼šå‘é€æŒ‡ä»¤è¡Œï¼ˆä¸å¹¿æ’­æ ¼å¼ä¸€è‡´ï¼‰ -->
    <view class="actions-row">
      <input type="text" class="broadcast-input" placeholder="è¯·è¾“å…¥å®Œæ•´æœåŠ¡å™¨æŒ‡ä»¤" value="{{commandText}}" bindinput="onCommandInput" maxlength="200" />
      <button class="btn primary btn-send" bindtap="sendCommand">å‘é€æŒ‡ä»¤</button>
    </view>

    <!-- æ–°å¢ï¼šå®¡è®¡æ—¥å¿—å…¥å£ï¼ˆç‹¬å ä¸€è¡Œï¼Œæ ·å¼å’Œç©å®¶åˆ—è¡¨ä¸€æ ·ï¼‰ -->
    <view class="actions-row players-row">
      <button class="btn secondary" bindtap="openActions">å®¡è®¡æ—¥å¿—</button>
    </view>

    <view class="actions-row players-row">
      <button class="btn secondary" bindtap="openMapSettings">è®¾ç½®å’Œé¢„è®¾åœ°å›¾</button>
    </view>

    <view class="actions-row players-row">
      <button class="btn secondary" bindtap="openPlayers">ç©å®¶åˆ—è¡¨</button>
    </view>

    <view class="actions-row players-row">
      <button class="btn secondary" bindtap="openWarmup">æš–æœå‘½ä»¤</button>
    </view>

    <view class="actions-row players-row">
      <button class="btn secondary" bindtap="openOtherCommands">å…¶ä»–å‘½ä»¤</button>
    </view>

    <!-- æ–°å¢ï¼šæœåŠ¡å™¨è®¾ç½®ï¼ˆä»…æˆ˜é˜Ÿé˜Ÿé•¿å¯è§ï¼‰ -->
    <view wx:if="{{showServerSettings}}" class="actions-row players-row">
      <button class="btn secondary" bindtap="openServerSettings">æœåŠ¡å™¨è®¾ç½®</button>
    </view>

  </view>

  <view class="bottom-nav">
    <button class="nav-item" bindtap="goHome">
      <text class="nav-emoji">ğŸ </text>
      <text class="nav-label">æˆ˜é˜Ÿä¸»é¡µ</text>
    </button>
    <button class="nav-item" bindtap="goMembers">
      <text class="nav-emoji">ğŸ‘¥</text>
      <text class="nav-label">æˆå‘˜åˆ—è¡¨</text>
    </button>
    <button class="nav-item" bindtap="goActivityList">
      <text class="nav-emoji">ğŸ“…</text>
      <text class="nav-label">æˆ˜é˜Ÿæ´»åŠ¨</text>
    </button>
    <button class="nav-item nav-item-active">
      <text class="nav-emoji">ğŸ› ï¸</text>
      <text class="nav-label">æœåŠ¡å™¨ç®¡ç†</text>
    </button>
    <button class="nav-item" bindtap="goMy">
      <text class="nav-emoji">ğŸ‘¤</text>
      <text class="nav-label">æˆ‘çš„</text>
    </button>
  </view>

</view>